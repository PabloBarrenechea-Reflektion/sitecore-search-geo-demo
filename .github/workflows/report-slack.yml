  name: Post to a Slack channel
  on:
    push:
      branches:
        - main
  jobs:
    post-slack:
      runs-on: ubuntu-latest
      steps:
        - name: Send Slack notification
          uses: slackapi/slack-github-action@v1.24.0
          with:
            channel-id: '#sdk-notifications'
            payload: |
              {
                "text": "## üöÄ Features\n- #423 #422: Added apse2 to allowed environments @PabloBarrenechea-Reflektion\n\n## üêõ Fixes\n- #416 Fixes circular dependencies @InakiAbete-Reflektion\n- #415 Reset offset and page in search result widget @NuriaSuarez-Reflektion\n- #418 Fixes un-listened query context @InakiAbete-Reflektion",
                "blocks": [
                  {
                    "type": "section",
                    "text": {
                      "type": "mrdwn",
                      "text": "*[sitecore-search] Release v1.2.0-alpha.1 (prerelease)*"
                    }
                  },
                  {
                    "type": "section",
                    "text": {
                      "type": "mrkdwn",
                      "text": "üöÄ*Features*\n- #423 #422: Added apse2 to allowed environments @PabloBarrenechea-Reflektion\n\n üêõ*Fixes*\n- #416 Fixes circular dependencies @InakiAbete-Reflektion\n- #415 Reset offset and page in search result widget @NuriaSuarez-Reflektion\n- #418 Fixes un-listened query context @InakiAbete-Reflektion"
                    }
                  }
                ]
              }
          env:
            SLACK_BOT_TOKEN: ${{ secrets.SLACK_BOT_TOKEN }}
            #SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
